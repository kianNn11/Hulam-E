{"ast":null,"code":"import React,{useEffect,useState,useCallback}from'react';import{XMarkIcon,ExclamationTriangleIcon,CheckCircleIcon,InformationCircleIcon}from'@heroicons/react/24/outline';import'./AlertMessage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AlertMessage=_ref=>{let{type,message,onClose,autoClose=true,duration=5000,restrictionDetails,className=''}=_ref;const[isVisible,setIsVisible]=useState(true);const handleClose=useCallback(()=>{setIsVisible(false);setTimeout(()=>{if(onClose)onClose();},300);// Wait for fade-out animation\n},[onClose]);useEffect(()=>{if(autoClose){const timer=setTimeout(()=>{handleClose();},duration);return()=>clearTimeout(timer);}},[autoClose,duration,handleClose]);const getIcon=()=>{switch(type){case'success':return/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"alert-icon\"});case'warning':return/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"alert-icon\"});case'error':return/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"alert-icon\"});default:return/*#__PURE__*/_jsx(InformationCircleIcon,{className:\"alert-icon\"});}};const formatMessage=msg=>{if(typeof msg!=='string')return msg;// Split by double newlines to create paragraphs\nconst paragraphs=msg.split('\\n\\n');return paragraphs.map((paragraph,index)=>/*#__PURE__*/_jsx(\"p\",{className:\"alert-paragraph\",children:paragraph.split('\\n').map((line,lineIndex)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[line,lineIndex<paragraph.split('\\n').length-1&&/*#__PURE__*/_jsx(\"br\",{})]},lineIndex))},index));};if(!isVisible)return null;return/*#__PURE__*/_jsx(\"div\",{className:`alert-message alert-${type} ${className} ${isVisible?'alert-visible':'alert-hidden'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert-icon-container\",children:getIcon()}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-text-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert-message-text\",children:formatMessage(message)}),restrictionDetails&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert-restriction-details\",children:[restrictionDetails.blockedAction&&/*#__PURE__*/_jsxs(\"div\",{className:\"restriction-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Blocked Action:\"}),\" \",restrictionDetails.blockedAction]}),restrictionDetails.contactInfo&&/*#__PURE__*/_jsxs(\"div\",{className:\"restriction-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Support:\"}),\" \",restrictionDetails.contactInfo]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClose,className:\"alert-close-button\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"alert-close-icon\"})})]})});};export default AlertMessage;","map":{"version":3,"names":["React","useEffect","useState","useCallback","XMarkIcon","ExclamationTriangleIcon","CheckCircleIcon","InformationCircleIcon","jsx","_jsx","jsxs","_jsxs","AlertMessage","_ref","type","message","onClose","autoClose","duration","restrictionDetails","className","isVisible","setIsVisible","handleClose","setTimeout","timer","clearTimeout","getIcon","formatMessage","msg","paragraphs","split","map","paragraph","index","children","line","lineIndex","Fragment","length","blockedAction","contactInfo","onClick"],"sources":["C:/Users/Acer/Downloads/Clients/Hulam-E/front/src/Components/Common/AlertMessage.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport { XMarkIcon, ExclamationTriangleIcon, CheckCircleIcon, InformationCircleIcon } from '@heroicons/react/24/outline';\r\nimport './AlertMessage.css';\r\n\r\nconst AlertMessage = ({ type, message, onClose, autoClose = true, duration = 5000, restrictionDetails, className = '' }) => {\r\n  const [isVisible, setIsVisible] = useState(true);\r\n\r\n  const handleClose = useCallback(() => {\r\n    setIsVisible(false);\r\n    setTimeout(() => {\r\n      if (onClose) onClose();\r\n    }, 300); // Wait for fade-out animation\r\n  }, [onClose]);\r\n\r\n  useEffect(() => {\r\n    if (autoClose) {\r\n      const timer = setTimeout(() => {\r\n        handleClose();\r\n      }, duration);\r\n\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [autoClose, duration, handleClose]);\r\n\r\n  const getIcon = () => {\r\n    switch (type) {\r\n      case 'success':\r\n        return <CheckCircleIcon className=\"alert-icon\" />;\r\n      case 'warning':\r\n        return <ExclamationTriangleIcon className=\"alert-icon\" />;\r\n      case 'error':\r\n        return <ExclamationTriangleIcon className=\"alert-icon\" />;\r\n      default:\r\n        return <InformationCircleIcon className=\"alert-icon\" />;\r\n    }\r\n  };\r\n\r\n  const formatMessage = (msg) => {\r\n    if (typeof msg !== 'string') return msg;\r\n    \r\n    // Split by double newlines to create paragraphs\r\n    const paragraphs = msg.split('\\n\\n');\r\n    \r\n    return paragraphs.map((paragraph, index) => (\r\n      <p key={index} className=\"alert-paragraph\">\r\n        {paragraph.split('\\n').map((line, lineIndex) => (\r\n          <React.Fragment key={lineIndex}>\r\n            {line}\r\n            {lineIndex < paragraph.split('\\n').length - 1 && <br />}\r\n          </React.Fragment>\r\n        ))}\r\n      </p>\r\n    ));\r\n  };\r\n\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <div className={`alert-message alert-${type} ${className} ${isVisible ? 'alert-visible' : 'alert-hidden'}`}>\r\n      <div className=\"alert-content\">\r\n        <div className=\"alert-icon-container\">\r\n          {getIcon()}\r\n        </div>\r\n        <div className=\"alert-text-container\">\r\n          <div className=\"alert-message-text\">\r\n            {formatMessage(message)}\r\n          </div>\r\n          \r\n          {/* Show restriction details if available */}\r\n          {restrictionDetails && (\r\n            <div className=\"alert-restriction-details\">\r\n              {restrictionDetails.blockedAction && (\r\n                <div className=\"restriction-item\">\r\n                  <strong>Blocked Action:</strong> {restrictionDetails.blockedAction}\r\n                </div>\r\n              )}\r\n              {restrictionDetails.contactInfo && (\r\n                <div className=\"restriction-item\">\r\n                  <strong>Support:</strong> {restrictionDetails.contactInfo}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n        <button onClick={handleClose} className=\"alert-close-button\">\r\n          <XMarkIcon className=\"alert-close-icon\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AlertMessage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}