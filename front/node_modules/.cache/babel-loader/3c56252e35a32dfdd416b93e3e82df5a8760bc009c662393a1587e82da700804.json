{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Acer\\\\Downloads\\\\Clients\\\\Hulam-E\\\\front\\\\src\\\\Components\\\\ProfileSection\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './Profile.css';\nimport { PencilSquareIcon, UserCircleIcon } from \"@heroicons/react/24/outline\";\nimport { Link, useLocation } from 'react-router-dom';\nimport EditProfileModal from './EditProfileModal';\nimport StudentVerificationModal from './StudentVerificationModal';\nimport PostContent from './PostContent';\nimport EarningsContent from './EarningsSection';\nimport RentalManagement from './RentalManagement';\nimport { useAuth } from '../../Context/AuthContext';\nimport { userAPI } from '../../services/api';\nimport AlertMessage from '../Common/AlertMessage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const location = useLocation();\n  const {\n    user,\n    setUser,\n    isLoggedIn\n  } = useAuth();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isVerificationModalOpen, setIsVerificationModalOpen] = useState(false);\n  const [showVerificationMessage, setShowVerificationMessage] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({\n    show: false,\n    type: '',\n    message: ''\n  });\n\n  // Use user data from AuthContext instead of localStorage\n  const [profileData, setProfileData] = useState({\n    fullName: (user === null || user === void 0 ? void 0 : user.name) || '',\n    courseYear: (user === null || user === void 0 ? void 0 : user.course_year) || '',\n    birthday: (user === null || user === void 0 ? void 0 : user.birthday) || '',\n    gender: (user === null || user === void 0 ? void 0 : user.gender) || '',\n    socialLink: (user === null || user === void 0 ? void 0 : user.social_link) || '',\n    contactNumber: (user === null || user === void 0 ? void 0 : user.contact_number) || '',\n    bio: (user === null || user === void 0 ? void 0 : user.bio) || '',\n    profileImage: (user === null || user === void 0 ? void 0 : user.profile_picture) || null\n  });\n  const showAlert = (type, message) => {\n    setAlert({\n      show: true,\n      type,\n      message\n    });\n    setTimeout(() => setAlert({\n      show: false,\n      type: '',\n      message: ''\n    }), 5000);\n  };\n\n  // Update profile data when user changes\n  useEffect(() => {\n    if (user) {\n      setProfileData({\n        fullName: user.name || '',\n        courseYear: user.course_year || '',\n        birthday: user.birthday || '',\n        gender: user.gender || '',\n        socialLink: user.social_link || '',\n        contactNumber: user.contact_number || '',\n        bio: user.bio || '',\n        profileImage: user.profile_picture || null\n      });\n    }\n  }, [user]);\n  const handleSave = async data => {\n    if (!isLoggedIn) {\n      showAlert('error', 'Please log in to update your profile');\n      return;\n    }\n\n    // Check if user account is suspended (client-side check)\n    if (user && user.verification_status === 'suspended') {\n      showAlert('error', 'Account Suspended: You cannot update your profile while your account is suspended. Please contact support for assistance.');\n      return;\n    }\n\n    // Check if user account is deactivated (client-side check)\n    if (user && user.verification_status === 'inactive') {\n      showAlert('error', 'Your account has been deactivated. Please contact support to reactivate your account.');\n      return;\n    }\n    setLoading(true);\n    try {\n      // Prepare data for API\n      const updateData = {\n        name: data.fullName,\n        course_year: data.courseYear,\n        birthday: data.birthday,\n        gender: data.gender,\n        social_link: data.socialLink,\n        contact_number: data.contactNumber,\n        bio: data.bio,\n        profile_picture: data.profileImage\n      };\n\n      // Remove empty values to avoid validation errors\n      Object.keys(updateData).forEach(key => {\n        if (updateData[key] === '' || updateData[key] === null) {\n          delete updateData[key];\n        }\n      });\n      console.log('Sending update data:', {\n        ...updateData,\n        profile_picture: updateData.profile_picture ? `[Base64 Image - ${updateData.profile_picture.length} chars]` : 'null'\n      });\n\n      // Call API to update profile\n      const response = await userAPI.updateProfile(updateData);\n      console.log('API Response:', response.data);\n      if (response.data.success || response.data.user) {\n        // Get the updated user data from response\n        const returnedUser = response.data.user;\n        console.log('Returned user profile_picture:', returnedUser !== null && returnedUser !== void 0 && returnedUser.profile_picture ? `[${returnedUser.profile_picture.length} chars]` : 'null');\n\n        // Update local profileData state with the form data (immediate update)\n        const updatedProfileData = {\n          fullName: data.fullName,\n          courseYear: data.courseYear,\n          birthday: data.birthday,\n          gender: data.gender,\n          socialLink: data.socialLink,\n          contactNumber: data.contactNumber,\n          bio: data.bio,\n          // Use the returned profile picture if available, otherwise use the submitted one\n          profileImage: (returnedUser === null || returnedUser === void 0 ? void 0 : returnedUser.profile_picture) || data.profileImage\n        };\n        console.log('Setting profile data:', {\n          ...updatedProfileData,\n          profileImage: updatedProfileData.profileImage ? `[${updatedProfileData.profileImage.length} chars]` : 'null'\n        });\n        setProfileData(updatedProfileData);\n\n        // Update user in AuthContext - ensure proper field mapping\n        const updatedUser = {\n          ...user,\n          ...returnedUser,\n          // Ensure profile_picture is properly set\n          profile_picture: (returnedUser === null || returnedUser === void 0 ? void 0 : returnedUser.profile_picture) || data.profileImage\n        };\n        console.log('Setting user data:', {\n          ...updatedUser,\n          profile_picture: updatedUser.profile_picture ? `[${updatedUser.profile_picture.length} chars]` : 'null'\n        });\n        setUser(updatedUser);\n\n        // Update localStorage\n        localStorage.setItem('userData', JSON.stringify(updatedUser));\n        showAlert('success', 'Profile updated successfully!');\n        setIsModalOpen(false);\n\n        // Force re-render by updating state\n        setProfileData(prev => ({\n          ...prev\n        }));\n      } else {\n        throw new Error('Profile update failed - no success response');\n      }\n    } catch (error) {\n      var _error$response, _error$response2, _error$response3;\n      console.error('Profile update error:', error);\n      console.error('Error response:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n\n      // Handle different types of errors with detailed messages\n      if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 403) {\n        var _error$restrictionDet;\n        const data = error.response.data;\n\n        // Handle suspended account with detailed restrictions\n        if (data.error === 'Account suspended' || ((_error$restrictionDet = error.restrictionDetails) === null || _error$restrictionDet === void 0 ? void 0 : _error$restrictionDet.type) === 'suspended') {\n          const details = error.restrictionDetails || data.restriction_details || {};\n          const actionMessage = details.blocked_action || details.blockedAction || 'updating your profile';\n          const contactInfo = details.contact_info || details.contactInfo || 'Please contact support for assistance.';\n          showAlert('error', `Account Suspended: You cannot perform this action (${actionMessage}). ${contactInfo}`);\n        } else if (data.error === 'Account deactivated') {\n          showAlert('error', 'Your account has been deactivated. Please contact support to reactivate your account.');\n        } else {\n          showAlert('error', data.message || 'You do not have permission to update your profile.');\n        }\n      } else if (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 422) {\n        const errorData = error.response.data;\n        if (errorData.errors) {\n          const firstError = Object.values(errorData.errors)[0];\n          const errorMessage = Array.isArray(firstError) ? firstError[0] : firstError;\n          showAlert('error', `Validation Error: ${errorMessage}`);\n        } else {\n          showAlert('error', errorData.message || 'Please check your input and try again.');\n        }\n      } else if (!error.response) {\n        showAlert('error', 'Network error. Please check your internet connection and try again.');\n      } else {\n        var _error$response4, _error$response4$data;\n        showAlert('error', ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || error.message || 'Failed to update profile. Please try again.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleCloseVerificationModal = () => {\n    setIsVerificationModalOpen(false);\n  };\n  const handleVerificationButtonClick = () => {\n    if (!user) return;\n    if (user.verified) {\n      // Already verified - show verified message\n      setShowVerificationMessage(true);\n      setTimeout(() => setShowVerificationMessage(false), 3000);\n    } else if (user.verification_status === 'pending') {\n      // Verification pending - show pending message\n      setShowVerificationMessage(true);\n      setTimeout(() => setShowVerificationMessage(false), 5000);\n    } else {\n      // Unverified (includes 'unverified', null, undefined, or any other status) - open upload modal\n      setIsVerificationModalOpen(true);\n    }\n  };\n  const handleUpload = async file => {\n    if (!isLoggedIn || !user) {\n      showAlert('error', 'Please log in to submit verification documents');\n      return;\n    }\n    setLoading(true);\n    try {\n      // Create FormData for file upload\n      const formData = new FormData();\n      formData.append('userId', user.id);\n      formData.append('verificationData', JSON.stringify({\n        fileName: file.name,\n        submittedAt: new Date().toISOString()\n      }));\n      formData.append('document', file);\n\n      // Call the verification API\n      const response = await userAPI.verifyStudent(formData);\n      if (response.data.success) {\n        showAlert('success', 'Verification document submitted successfully! Your request is now pending admin review.');\n\n        // Update user verification status in context\n        const updatedUser = {\n          ...user,\n          verification_status: 'pending',\n          verification_submitted_at: new Date().toISOString()\n        };\n        setUser(updatedUser);\n        localStorage.setItem('userData', JSON.stringify(updatedUser));\n      } else {\n        showAlert('error', 'Failed to submit verification document. Please try again.');\n      }\n    } catch (error) {\n      var _error$response5, _error$response5$data, _error$response6, _error$response6$data;\n      console.error('Verification submission error:', error);\n      showAlert('error', ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.error) || ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.message) || 'Failed to submit verification document. Please try again.');\n    } finally {\n      setLoading(false);\n      setIsVerificationModalOpen(false);\n    }\n  };\n  const activeTab = (() => {\n    switch (location.pathname) {\n      case '/profile':\n        return 'post';\n      case '/earnings':\n        return 'earnings';\n      case '/rental-management':\n        return 'rentals';\n      default:\n        return '';\n    }\n  })();\n\n  // Show login message if not authenticated\n  if (!isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"profile\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-login-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Please log in to view your profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"login-link\",\n          children: \"Go to Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"profile\",\n    children: [alert.show && /*#__PURE__*/_jsxDEV(AlertMessage, {\n      type: alert.type,\n      message: alert.message,\n      onClose: () => setAlert({\n        show: false,\n        type: '',\n        message: ''\n      }),\n      className: \"fixed-alert\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"profile-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-background\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-header\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-name-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon-and-name-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-image-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profile-image-container\",\n                onClick: () => setIsModalOpen(true),\n                title: \"Click to change profile picture\",\n                children: profileData.profileImage ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"profile-image-wrapper\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: profileData.profileImage.startsWith('/storage/') ? `http://localhost:8000${profileData.profileImage}` : profileData.profileImage,\n                    alt: \"Profile\",\n                    className: \"profile-image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(UserCircleIcon, {\n                  className: \"profile-default-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIsModalOpen(true),\n                className: \"profile-edit-button\",\n                disabled: loading,\n                title: \"Edit Profile\",\n                children: /*#__PURE__*/_jsxDEV(PencilSquareIcon, {\n                  className: \"edit-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-name-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"profile-name\",\n                children: profileData.fullName || (user === null || user === void 0 ? void 0 : user.name) || 'Your Name'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"profile-course\",\n                children: profileData.courseYear || 'Course & Year'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profile-verification-status\",\n                children: user !== null && user !== void 0 && user.verified ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"verification-status-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"verification-verified\",\n                    children: \"\\u2713 Verified Student\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 23\n                  }, this), showVerificationMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"verification-message verified-message\",\n                    children: \"You are a verified student! \\uD83C\\uDF89\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 21\n                }, this) : (user === null || user === void 0 ? void 0 : user.verification_status) === 'pending' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"verification-status-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"verification-pending-button\",\n                    onClick: handleVerificationButtonClick,\n                    disabled: loading,\n                    children: \"\\u23F3 Verification Pending\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 23\n                  }, this), showVerificationMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"verification-message pending-message\",\n                    children: \"Your verification is in progress. Please wait for the admin to confirm it.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 362,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"verification-status-container\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"verification-button unverified\",\n                    onClick: handleVerificationButtonClick,\n                    disabled: loading,\n                    children: \"\\uD83D\\uDCCB Verify Student Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-nav\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/profile\",\n            className: `profile-tab ${activeTab === 'post' ? 'active' : ''}`,\n            children: \"Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/earnings\",\n            className: `profile-tab ${activeTab === 'earnings' ? 'active' : ''}`,\n            children: \"Earnings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/rental-management\",\n            className: `profile-tab ${activeTab === 'rentals' ? 'active' : ''}`,\n            children: \"Rentals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), activeTab === 'post' && /*#__PURE__*/_jsxDEV(PostContent, {\n          profileData: profileData,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 36\n        }, this), activeTab === 'earnings' && /*#__PURE__*/_jsxDEV(EarningsContent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 40\n        }, this), activeTab === 'rentals' && /*#__PURE__*/_jsxDEV(RentalManagement, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 39\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this), isModalOpen && /*#__PURE__*/_jsxDEV(EditProfileModal, {\n      isOpen: isModalOpen,\n      onClose: () => setIsModalOpen(false),\n      onSave: handleSave,\n      profileData: profileData,\n      user: user,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 9\n    }, this), isVerificationModalOpen && /*#__PURE__*/_jsxDEV(StudentVerificationModal, {\n      isOpen: isVerificationModalOpen,\n      onClose: handleCloseVerificationModal,\n      onUpload: handleUpload,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 291,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"zfB7VIl96qScni6RUBdULFbYV/E=\", false, function () {\n  return [useLocation, useAuth];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","PencilSquareIcon","UserCircleIcon","Link","useLocation","EditProfileModal","StudentVerificationModal","PostContent","EarningsContent","RentalManagement","useAuth","userAPI","AlertMessage","jsxDEV","_jsxDEV","Profile","_s","location","user","setUser","isLoggedIn","isModalOpen","setIsModalOpen","isVerificationModalOpen","setIsVerificationModalOpen","showVerificationMessage","setShowVerificationMessage","loading","setLoading","alert","setAlert","show","type","message","profileData","setProfileData","fullName","name","courseYear","course_year","birthday","gender","socialLink","social_link","contactNumber","contact_number","bio","profileImage","profile_picture","showAlert","setTimeout","handleSave","data","verification_status","updateData","Object","keys","forEach","key","console","log","length","response","updateProfile","success","returnedUser","updatedProfileData","updatedUser","localStorage","setItem","JSON","stringify","prev","Error","error","_error$response","_error$response2","_error$response3","status","_error$restrictionDet","restrictionDetails","details","restriction_details","actionMessage","blocked_action","blockedAction","contactInfo","contact_info","errorData","errors","firstError","values","errorMessage","Array","isArray","_error$response4","_error$response4$data","handleCloseVerificationModal","handleVerificationButtonClick","verified","handleUpload","file","formData","FormData","append","id","fileName","submittedAt","Date","toISOString","verifyStudent","verification_submitted_at","_error$response5","_error$response5$data","_error$response6","_error$response6$data","activeTab","pathname","className","children","_jsxFileName","lineNumber","columnNumber","to","onClose","onClick","title","src","startsWith","alt","disabled","isOpen","onSave","onUpload","_c","$RefreshReg$"],"sources":["C:/Users/Acer/Downloads/Clients/Hulam-E/front/src/Components/ProfileSection/Profile.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Profile.css';\r\nimport { PencilSquareIcon, UserCircleIcon } from \"@heroicons/react/24/outline\";\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport EditProfileModal from './EditProfileModal';\r\nimport StudentVerificationModal from './StudentVerificationModal';\r\nimport PostContent from './PostContent';\r\nimport EarningsContent from './EarningsSection';\r\nimport RentalManagement from './RentalManagement';\r\nimport { useAuth } from '../../Context/AuthContext';\r\nimport { userAPI } from '../../services/api';\r\nimport AlertMessage from '../Common/AlertMessage';\r\n\r\nconst Profile = () => {\r\n  const location = useLocation();\r\n  const { user, setUser, isLoggedIn } = useAuth();\r\n\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isVerificationModalOpen, setIsVerificationModalOpen] = useState(false);\r\n  const [showVerificationMessage, setShowVerificationMessage] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [alert, setAlert] = useState({ show: false, type: '', message: '' });\r\n\r\n  // Use user data from AuthContext instead of localStorage\r\n  const [profileData, setProfileData] = useState({\r\n    fullName: user?.name || '',\r\n    courseYear: user?.course_year || '',\r\n    birthday: user?.birthday || '',\r\n    gender: user?.gender || '',\r\n    socialLink: user?.social_link || '',\r\n    contactNumber: user?.contact_number || '',\r\n    bio: user?.bio || '',\r\n    profileImage: user?.profile_picture || null,\r\n  });\r\n\r\n  const showAlert = (type, message) => {\r\n    setAlert({ show: true, type, message });\r\n    setTimeout(() => setAlert({ show: false, type: '', message: '' }), 5000);\r\n  };\r\n\r\n  // Update profile data when user changes\r\n  useEffect(() => {\r\n    if (user) {\r\n      setProfileData({\r\n        fullName: user.name || '',\r\n        courseYear: user.course_year || '',\r\n        birthday: user.birthday || '',\r\n        gender: user.gender || '',\r\n        socialLink: user.social_link || '',\r\n        contactNumber: user.contact_number || '',\r\n        bio: user.bio || '',\r\n        profileImage: user.profile_picture || null,\r\n      });\r\n    }\r\n  }, [user]);\r\n\r\n  const handleSave = async (data) => {\r\n    if (!isLoggedIn) {\r\n      showAlert('error', 'Please log in to update your profile');\r\n      return;\r\n    }\r\n\r\n    // Check if user account is suspended (client-side check)\r\n    if (user && user.verification_status === 'suspended') {\r\n      showAlert('error', 'Account Suspended: You cannot update your profile while your account is suspended. Please contact support for assistance.');\r\n      return;\r\n    }\r\n\r\n    // Check if user account is deactivated (client-side check)\r\n    if (user && user.verification_status === 'inactive') {\r\n      showAlert('error', 'Your account has been deactivated. Please contact support to reactivate your account.');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      // Prepare data for API\r\n      const updateData = {\r\n        name: data.fullName,\r\n        course_year: data.courseYear,\r\n        birthday: data.birthday,\r\n        gender: data.gender,\r\n        social_link: data.socialLink,\r\n        contact_number: data.contactNumber,\r\n        bio: data.bio,\r\n        profile_picture: data.profileImage,\r\n      };\r\n\r\n      // Remove empty values to avoid validation errors\r\n      Object.keys(updateData).forEach(key => {\r\n        if (updateData[key] === '' || updateData[key] === null) {\r\n          delete updateData[key];\r\n        }\r\n      });\r\n\r\n      console.log('Sending update data:', {\r\n        ...updateData,\r\n        profile_picture: updateData.profile_picture ? \r\n          `[Base64 Image - ${updateData.profile_picture.length} chars]` : \r\n          'null'\r\n      });\r\n\r\n      // Call API to update profile\r\n      const response = await userAPI.updateProfile(updateData);\r\n      \r\n      console.log('API Response:', response.data);\r\n      \r\n      if (response.data.success || response.data.user) {\r\n        // Get the updated user data from response\r\n        const returnedUser = response.data.user;\r\n        \r\n        console.log('Returned user profile_picture:', returnedUser?.profile_picture ? \r\n          `[${returnedUser.profile_picture.length} chars]` : 'null');\r\n        \r\n        // Update local profileData state with the form data (immediate update)\r\n        const updatedProfileData = {\r\n          fullName: data.fullName,\r\n          courseYear: data.courseYear,\r\n          birthday: data.birthday,\r\n          gender: data.gender,\r\n          socialLink: data.socialLink,\r\n          contactNumber: data.contactNumber,\r\n          bio: data.bio,\r\n          // Use the returned profile picture if available, otherwise use the submitted one\r\n          profileImage: returnedUser?.profile_picture || data.profileImage\r\n        };\r\n        \r\n        console.log('Setting profile data:', {\r\n          ...updatedProfileData,\r\n          profileImage: updatedProfileData.profileImage ? \r\n            `[${updatedProfileData.profileImage.length} chars]` : 'null'\r\n        });\r\n        \r\n        setProfileData(updatedProfileData);\r\n        \r\n        // Update user in AuthContext - ensure proper field mapping\r\n        const updatedUser = {\r\n          ...user,\r\n          ...returnedUser,\r\n          // Ensure profile_picture is properly set\r\n          profile_picture: returnedUser?.profile_picture || data.profileImage\r\n        };\r\n        \r\n        console.log('Setting user data:', {\r\n          ...updatedUser,\r\n          profile_picture: updatedUser.profile_picture ? \r\n            `[${updatedUser.profile_picture.length} chars]` : 'null'\r\n        });\r\n        \r\n        setUser(updatedUser);\r\n        \r\n        // Update localStorage\r\n        localStorage.setItem('userData', JSON.stringify(updatedUser));\r\n        \r\n        showAlert('success', 'Profile updated successfully!');\r\n        setIsModalOpen(false);\r\n        \r\n        // Force re-render by updating state\r\n        setProfileData(prev => ({ ...prev }));\r\n        \r\n      } else {\r\n        throw new Error('Profile update failed - no success response');\r\n      }\r\n    } catch (error) {\r\n      console.error('Profile update error:', error);\r\n      console.error('Error response:', error.response?.data);\r\n      \r\n      // Handle different types of errors with detailed messages\r\n      if (error.response?.status === 403) {\r\n        const data = error.response.data;\r\n        \r\n        // Handle suspended account with detailed restrictions\r\n        if (data.error === 'Account suspended' || error.restrictionDetails?.type === 'suspended') {\r\n          const details = error.restrictionDetails || data.restriction_details || {};\r\n          const actionMessage = details.blocked_action || details.blockedAction || 'updating your profile';\r\n          const contactInfo = details.contact_info || details.contactInfo || 'Please contact support for assistance.';\r\n          \r\n          showAlert('error', \r\n            `Account Suspended: You cannot perform this action (${actionMessage}). ${contactInfo}`\r\n          );\r\n        } else if (data.error === 'Account deactivated') {\r\n          showAlert('error', 'Your account has been deactivated. Please contact support to reactivate your account.');\r\n        } else {\r\n          showAlert('error', data.message || 'You do not have permission to update your profile.');\r\n        }\r\n      } else if (error.response?.status === 422) {\r\n        const errorData = error.response.data;\r\n        if (errorData.errors) {\r\n          const firstError = Object.values(errorData.errors)[0];\r\n          const errorMessage = Array.isArray(firstError) ? firstError[0] : firstError;\r\n          showAlert('error', `Validation Error: ${errorMessage}`);\r\n        } else {\r\n          showAlert('error', errorData.message || 'Please check your input and try again.');\r\n        }\r\n      } else if (!error.response) {\r\n        showAlert('error', 'Network error. Please check your internet connection and try again.');\r\n      } else {\r\n        showAlert('error', error.response?.data?.message || error.message || 'Failed to update profile. Please try again.');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCloseVerificationModal = () => {\r\n    setIsVerificationModalOpen(false);\r\n  };\r\n\r\n  const handleVerificationButtonClick = () => {\r\n    if (!user) return;\r\n\r\n    if (user.verified) {\r\n      // Already verified - show verified message\r\n      setShowVerificationMessage(true);\r\n      setTimeout(() => setShowVerificationMessage(false), 3000);\r\n    } else if (user.verification_status === 'pending') {\r\n      // Verification pending - show pending message\r\n      setShowVerificationMessage(true);\r\n      setTimeout(() => setShowVerificationMessage(false), 5000);\r\n    } else {\r\n      // Unverified (includes 'unverified', null, undefined, or any other status) - open upload modal\r\n      setIsVerificationModalOpen(true);\r\n    }\r\n  };\r\n\r\n  const handleUpload = async (file) => {\r\n    if (!isLoggedIn || !user) {\r\n      showAlert('error', 'Please log in to submit verification documents');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      // Create FormData for file upload\r\n      const formData = new FormData();\r\n      formData.append('userId', user.id);\r\n      formData.append('verificationData', JSON.stringify({\r\n        fileName: file.name,\r\n        submittedAt: new Date().toISOString()\r\n      }));\r\n      formData.append('document', file);\r\n\r\n      // Call the verification API\r\n      const response = await userAPI.verifyStudent(formData);\r\n      \r\n      if (response.data.success) {\r\n        showAlert('success', 'Verification document submitted successfully! Your request is now pending admin review.');\r\n        \r\n        // Update user verification status in context\r\n        const updatedUser = { \r\n          ...user, \r\n          verification_status: 'pending',\r\n          verification_submitted_at: new Date().toISOString()\r\n        };\r\n        setUser(updatedUser);\r\n        localStorage.setItem('userData', JSON.stringify(updatedUser));\r\n      } else {\r\n        showAlert('error', 'Failed to submit verification document. Please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Verification submission error:', error);\r\n      showAlert('error', error.response?.data?.error || error.response?.data?.message || 'Failed to submit verification document. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n      setIsVerificationModalOpen(false);\r\n    }\r\n  };\r\n\r\n  const activeTab = (() => {\r\n    switch (location.pathname) {\r\n      case '/profile': return 'post';\r\n      case '/earnings': return 'earnings';\r\n      case '/rental-management': return 'rentals';\r\n      default: return '';\r\n    }\r\n  })();\r\n\r\n  // Show login message if not authenticated\r\n  if (!isLoggedIn) {\r\n    return (\r\n      <main className='profile'>\r\n        <div className=\"profile-login-message\">\r\n          <h2>Please log in to view your profile</h2>\r\n          <Link to=\"/login\" className=\"login-link\">Go to Login</Link>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main className='profile'>\r\n      {alert.show && (\r\n        <AlertMessage \r\n          type={alert.type} \r\n          message={alert.message} \r\n          onClose={() => setAlert({ show: false, type: '', message: '' })}\r\n          className=\"fixed-alert\"\r\n        />\r\n      )}\r\n      \r\n      <section className=\"profile-section\">\r\n        <div className=\"profile-background\">\r\n          <div className=\"profile-header\" />\r\n\r\n          <div className=\"profile-name-container\">\r\n            <div className=\"icon-and-name-wrapper\">\r\n              <div className=\"profile-image-section\">\r\n                <div \r\n                  className=\"profile-image-container\"\r\n                  onClick={() => setIsModalOpen(true)}\r\n                  title=\"Click to change profile picture\"\r\n                >\r\n                  {profileData.profileImage ? (\r\n                    <div className=\"profile-image-wrapper\">\r\n                      <img\r\n                        src={profileData.profileImage.startsWith('/storage/') \r\n                          ? `http://localhost:8000${profileData.profileImage}`\r\n                          : profileData.profileImage\r\n                        }\r\n                        alt=\"Profile\"\r\n                        className=\"profile-image\"\r\n                      />\r\n                    </div>\r\n                  ) : (\r\n                    <UserCircleIcon className=\"profile-default-icon\" />\r\n                  )}\r\n                </div>\r\n                \r\n                <button\r\n                  onClick={() => setIsModalOpen(true)}\r\n                  className=\"profile-edit-button\"\r\n                  disabled={loading}\r\n                  title=\"Edit Profile\"\r\n                >\r\n                  <PencilSquareIcon className='edit-icon' />\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"profile-name-section\">\r\n                <h1 className=\"profile-name\">{profileData.fullName || user?.name || 'Your Name'}</h1>\r\n                <p className=\"profile-course\">{profileData.courseYear || 'Course & Year'}</p>\r\n                <div className=\"profile-verification-status\">\r\n                  {user?.verified ? (\r\n                    <div className=\"verification-status-container\">\r\n                      <span className=\"verification-verified\">✓ Verified Student</span>\r\n                      {showVerificationMessage && (\r\n                        <div className=\"verification-message verified-message\">\r\n                          You are a verified student! 🎉\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ) : user?.verification_status === 'pending' ? (\r\n                    <div className=\"verification-status-container\">\r\n                      <button \r\n                        className=\"verification-pending-button\"\r\n                        onClick={handleVerificationButtonClick}\r\n                        disabled={loading}\r\n                      >\r\n                        ⏳ Verification Pending\r\n                      </button>\r\n                      {showVerificationMessage && (\r\n                        <div className=\"verification-message pending-message\">\r\n                          Your verification is in progress. Please wait for the admin to confirm it.\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"verification-status-container\">\r\n                      <button \r\n                        className=\"verification-button unverified\"\r\n                        onClick={handleVerificationButtonClick}\r\n                        disabled={loading}\r\n                      >\r\n                        📋 Verify Student Status\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"profile-nav\">\r\n            <Link \r\n              to=\"/profile\" \r\n              className={`profile-tab ${activeTab === 'post' ? 'active' : ''}`}\r\n            >\r\n              Post\r\n            </Link>\r\n            <Link \r\n              to=\"/earnings\" \r\n              className={`profile-tab ${activeTab === 'earnings' ? 'active' : ''}`}\r\n            >\r\n              Earnings\r\n            </Link>\r\n            <Link \r\n              to=\"/rental-management\" \r\n              className={`profile-tab ${activeTab === 'rentals' ? 'active' : ''}`}\r\n            >\r\n              Rentals\r\n            </Link>\r\n          </div>\r\n\r\n          {activeTab === 'post' && <PostContent profileData={profileData} user={user} />}\r\n          {activeTab === 'earnings' && <EarningsContent />}\r\n          {activeTab === 'rentals' && <RentalManagement />}\r\n        </div>\r\n      </section>\r\n\r\n      {isModalOpen && (\r\n        <EditProfileModal\r\n          isOpen={isModalOpen}\r\n          onClose={() => setIsModalOpen(false)}\r\n          onSave={handleSave}\r\n          profileData={profileData}\r\n          user={user}\r\n          loading={loading}\r\n        />\r\n      )}\r\n\r\n      {isVerificationModalOpen && (\r\n        <StudentVerificationModal\r\n          isOpen={isVerificationModalOpen}\r\n          onClose={handleCloseVerificationModal}\r\n          onUpload={handleUpload}\r\n          loading={loading}\r\n        />\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}