{"ast":null,"code":"import{useState,useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import'./Checkout.css';import{ArrowLeftIcon}from'@heroicons/react/24/solid';import{useAuth}from'../../Context/AuthContext';import{rentalAPI}from'../../services/api';import defaultImage from'../Assets/calculator.jpg';import AlertMessage from'../Common/AlertMessage';import SafeImage from'../Common/SafeImage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Checkout=()=>{const navigate=useNavigate();const location=useLocation();const{user,isLoggedIn}=useAuth();const[rentedItems,setRentedItems]=useState([]);const[showModal,setShowModal]=useState(false);const[loading,setLoading]=useState(false);const[alert,setAlert]=useState({show:false,type:'',message:''});// Form state\nconst[formData,setFormData]=useState({name:'',contactNumber:'',rentDuration:'',message:'',paymentMethod:'cash_on_delivery'});const showAlert=(type,message)=>{setAlert({show:true,type,message});setTimeout(()=>setAlert({show:false,type:'',message:''}),5000);};useEffect(()=>{var _location$state;const storedItems=JSON.parse(localStorage.getItem('rentedItems'))||[];// Check if there's a rental item passed via router state\nconst passedRental=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.rental;if(passedRental){// Preserve all image fields for robust image display\nconst rentalItem={...passedRental,// keep all fields including images_url, image_url, image\nid:passedRental.id,name:passedRental.title,price:parseFloat(passedRental.price)};console.log('Adding rental item to cart:',rentalItem);// Debug log\n// Check if item is already in cart\nconst existingItemIndex=storedItems.findIndex(item=>item.id===rentalItem.id);if(existingItemIndex===-1){// Add new item to cart\nconst updatedItems=[...storedItems,rentalItem];setRentedItems(updatedItems);localStorage.setItem('rentedItems',JSON.stringify(updatedItems));console.log('Item added to cart. Total items:',updatedItems.length);// Debug log\n}else{// Item already exists, just set the stored items\nsetRentedItems(storedItems);console.log('Item already in cart');// Debug log\n}}else{setRentedItems(storedItems);console.log('No rental passed via state. Using stored items:',storedItems.length);// Debug log\n}// Auto-fill user information if logged in\nif(isLoggedIn&&user){setFormData(prev=>({...prev,name:user.name||'',contactNumber:user.contact_number||''}));}},[isLoggedIn,user,location.state]);const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const handlePaymentMethodChange=e=>{setFormData(prev=>({...prev,paymentMethod:e.target.value}));};const removeItem=id=>{const updatedItems=rentedItems.filter(item=>item.id!==id);setRentedItems(updatedItems);localStorage.setItem('rentedItems',JSON.stringify(updatedItems));};const subTotal=rentedItems.reduce((acc,item)=>acc+item.price,0);const platformFee=10;const total=subTotal+platformFee;const handleCompleteRental=()=>{// Validate form\nif(!formData.name.trim()){showAlert('error','Please enter your name');return;}if(!formData.contactNumber.trim()){showAlert('error','Please enter your contact number');return;}if(!formData.rentDuration.trim()){showAlert('error','Please enter rent duration');return;}if(rentedItems.length===0){showAlert('error','No items in cart');return;}setShowModal(true);};const closeModal=()=>setShowModal(false);const confirmRental=async()=>{setLoading(true);try{const checkoutData={items:rentedItems.map(item=>({id:item.id,name:item.name,price:item.price})),renter_name:formData.name,renter_email:(user===null||user===void 0?void 0:user.email)||'guest@example.com',contact_number:formData.contactNumber,rent_duration:formData.rentDuration,message:formData.message,payment_method:formData.paymentMethod,renter_id:(user===null||user===void 0?void 0:user.id)||null};const response=await rentalAPI.checkout(checkoutData);if(response.data.success){const{data}=response.data;if(data.earnings_updated){showAlert('success',`Payment successful! Total: ₱${data.total_amount.toFixed(2)}\\n\\nYour earnings have been updated immediately. Check your earnings page to see the new balance.`);}else{showAlert('success',`Checkout successful! Total: ₱${data.total_amount.toFixed(2)}\\n\\nYour rental request has been sent. You'll earn money once the owner approves and completes the transaction.`);}// Clear cart and form\nsetRentedItems([]);localStorage.removeItem('rentedItems');setFormData({name:(user===null||user===void 0?void 0:user.name)||'',contactNumber:(user===null||user===void 0?void 0:user.contact_number)||'',rentDuration:'',message:'',paymentMethod:'cash_on_delivery'});setShowModal(false);// Navigate to earnings page if payment was completed\nsetTimeout(()=>{if(data.earnings_updated){navigate('/rentals');}else{navigate('/rentals');}},3000);}}catch(error){var _error$response,_error$response2,_error$response3;console.error('Checkout error:',error);// Handle different types of errors with detailed messages\nif(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===403){var _error$restrictionDet;const data=error.response.data;// Handle suspended account with detailed restrictions\nif(data.error==='Account suspended'||((_error$restrictionDet=error.restrictionDetails)===null||_error$restrictionDet===void 0?void 0:_error$restrictionDet.type)==='suspended'){const details=error.restrictionDetails||data.restriction_details||{};const actionMessage=details.blocked_action||details.blockedAction||'checking out items';const contactInfo=details.contact_info||details.contactInfo||'Please contact support for assistance.';showAlert('error',`Account Suspended: You cannot perform this action (${actionMessage}). ${contactInfo}`);}else if(data.error==='Account deactivated'){showAlert('error','Your account has been deactivated. Please contact support to reactivate your account.');}else{showAlert('error',data.message||'You do not have permission to perform this checkout.');}}else if(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===422){const errorData=error.response.data;if(errorData.errors){const firstError=Object.values(errorData.errors)[0];const errorMessage=Array.isArray(firstError)?firstError[0]:firstError;showAlert('error',`Validation Error: ${errorMessage}`);}else{showAlert('error',errorData.message||'Please check your input and try again.');}}else if(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.status)===400){showAlert('error',error.response.data.message||'Invalid checkout request. Please check your items and try again.');}else if(!error.response){showAlert('error','Network error. Please check your internet connection and try again.');}else{showAlert('error','Checkout failed. Please try again or contact support if the problem persists.');}}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"login-back-button\",onClick:()=>navigate('/rental-section'),children:/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"login-back-icon\"})}),alert.show&&/*#__PURE__*/_jsx(AlertMessage,{type:alert.type,message:alert.message,onClose:()=>setAlert({show:false,type:'',message:''}),className:\"fixed-alert\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card item-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"item-rented-title\",children:\"Item Rented\"}),rentedItems.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"empty-message\",children:\"No rented items yet.\"}):rentedItems.map(item=>{// Enhanced image logic: prefer images_url[0] if available\nlet imageUrl=item.image;if(item.images_url&&Array.isArray(item.images_url)&&item.images_url.length>0){imageUrl=item.images_url[0].startsWith('http')?item.images_url[0]:item.images_url[0].startsWith('/storage/')?`http://localhost:8000${item.images_url[0]}`:`http://localhost:8000/storage/${item.images_url[0]}`;}return/*#__PURE__*/_jsxs(\"div\",{className:\"rented-item enhanced-rented-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"enhanced-image-wrapper\",children:/*#__PURE__*/_jsx(SafeImage,{src:imageUrl,alt:item.name,className:\"enhanced-checkout-item-image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"enhanced-item-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"enhanced-item-title\",children:item.name}),/*#__PURE__*/_jsx(\"div\",{className:\"enhanced-price-info\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B1\",item.price.toFixed(2)]})}),/*#__PURE__*/_jsx(\"button\",{className:\"remove-button\",onClick:()=>removeItem(item.id),children:\"Remove\"})]})]},item.id);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card form-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Renter Information\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"input-form\",onSubmit:e=>e.preventDefault(),children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name*\",value:formData.name,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"contactNumber\",placeholder:\"Contact Number*\",value:formData.contactNumber,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"rentDuration\",placeholder:\"Rent Duration*\",value:formData.rentDuration,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"message\",placeholder:\"Message (optional)\",value:formData.message,onChange:handleInputChange})]}),isLoggedIn&&user&&/*#__PURE__*/_jsx(\"p\",{className:\"auto-fill-notice\",children:\"\\u2713 Name and contact information auto-filled from your profile\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card summary-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Rental Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Sub Total\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B1\",subTotal.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Platform Fee\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B1\",platformFee.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B1\",total.toFixed(2)]})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"section-subtitle\",children:\"Payment Method\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-options\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"payment-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"payment\",value:\"cash_on_delivery\",checked:formData.paymentMethod==='cash_on_delivery',onChange:handlePaymentMethodChange}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cash on Delivery\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'12px',color:'#666',margin:'2px 0 0 0'},children:\"Payment pending - Requires owner approval before earning\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"payment-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"payment\",value:\"gcash\",checked:formData.paymentMethod==='gcash',onChange:handlePaymentMethodChange}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"GCash\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'12px',color:'#059669',margin:'2px 0 0 0'},children:\"\\u2713 Pay using GCash number shown in item details\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"primary-button\",onClick:handleCompleteRental,disabled:loading||rentedItems.length===0,children:loading?'Processing...':'Complete Rental'})]})})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:closeModal,children:/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"back-icon\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Confirm Rental\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Renter:\"}),\" \",formData.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Contact:\"}),\" \",formData.contactNumber]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Duration:\"}),\" \",formData.rentDuration]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Payment Method:\"}),\" \",formData.paymentMethod==='cash_on_delivery'?'Cash on Delivery':'GCash']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Amount:\"}),\" \\u20B1\",total.toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Items:\"}),\" \",rentedItems.length,\" item(s)\"]}),formData.paymentMethod==='gcash'&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'12px',padding:'12px',background:'#f0f9ff',borderRadius:'8px',border:'1px solid #bfdbfe'},children:/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0',fontSize:'14px',color:'#1e40af'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" For GCash payment, use the GCash number shown in the item details. After payment, contact the owner to confirm the transaction.\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"confirm-button\",onClick:confirmRental,disabled:loading,children:loading?'Processing...':'Confirm'}),/*#__PURE__*/_jsx(\"button\",{className:\"cancel-button\",onClick:closeModal,children:\"Cancel\"})]})]})})]});};export default Checkout;","map":{"version":3,"names":["useState","useEffect","useNavigate","useLocation","ArrowLeftIcon","useAuth","rentalAPI","defaultImage","AlertMessage","SafeImage","jsx","_jsx","jsxs","_jsxs","Checkout","navigate","location","user","isLoggedIn","rentedItems","setRentedItems","showModal","setShowModal","loading","setLoading","alert","setAlert","show","type","message","formData","setFormData","name","contactNumber","rentDuration","paymentMethod","showAlert","setTimeout","_location$state","storedItems","JSON","parse","localStorage","getItem","passedRental","state","rental","rentalItem","id","title","price","parseFloat","console","log","existingItemIndex","findIndex","item","updatedItems","setItem","stringify","length","prev","contact_number","handleInputChange","e","value","target","handlePaymentMethodChange","removeItem","filter","subTotal","reduce","acc","platformFee","total","handleCompleteRental","trim","closeModal","confirmRental","checkoutData","items","map","renter_name","renter_email","email","rent_duration","payment_method","renter_id","response","checkout","data","success","earnings_updated","total_amount","toFixed","error","_error$response","_error$response2","_error$response3","status","_error$restrictionDet","restrictionDetails","details","restriction_details","actionMessage","blocked_action","blockedAction","contactInfo","contact_info","errorData","errors","firstError","Object","values","errorMessage","Array","isArray","className","children","onClick","onClose","imageUrl","image","images_url","startsWith","src","alt","onSubmit","preventDefault","placeholder","onChange","required","checked","style","fontSize","color","margin","disabled","marginTop","padding","background","borderRadius","border"],"sources":["C:/Users/Acer/Downloads/Clients/hulame/front/src/Components/CheckoutSection/Checkout.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport './Checkout.css';\nimport { ArrowLeftIcon } from '@heroicons/react/24/solid';\nimport { useAuth } from '../../Context/AuthContext';\nimport { rentalAPI } from '../../services/api';\nimport defaultImage from '../Assets/calculator.jpg';\nimport AlertMessage from '../Common/AlertMessage';\nimport SafeImage from '../Common/SafeImage';\n\nconst Checkout = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { user, isLoggedIn } = useAuth();\n  const [rentedItems, setRentedItems] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState({ show: false, type: '', message: '' });\n  \n  // Form state\n  const [formData, setFormData] = useState({\n    name: '',\n    contactNumber: '',\n    rentDuration: '',\n    message: '',\n    paymentMethod: 'cash_on_delivery'\n  });\n\n  const showAlert = (type, message) => {\n    setAlert({ show: true, type, message });\n    setTimeout(() => setAlert({ show: false, type: '', message: '' }), 5000);\n  };\n\n  useEffect(() => {\n    const storedItems = JSON.parse(localStorage.getItem('rentedItems')) || [];\n    \n    // Check if there's a rental item passed via router state\n    const passedRental = location.state?.rental;\n    \n    if (passedRental) {\n      // Preserve all image fields for robust image display\n      const rentalItem = {\n        ...passedRental, // keep all fields including images_url, image_url, image\n        id: passedRental.id,\n        name: passedRental.title,\n        price: parseFloat(passedRental.price)\n      };\n      \n      console.log('Adding rental item to cart:', rentalItem); // Debug log\n      \n      // Check if item is already in cart\n      const existingItemIndex = storedItems.findIndex(item => item.id === rentalItem.id);\n      \n      if (existingItemIndex === -1) {\n        // Add new item to cart\n        const updatedItems = [...storedItems, rentalItem];\n        setRentedItems(updatedItems);\n        localStorage.setItem('rentedItems', JSON.stringify(updatedItems));\n        console.log('Item added to cart. Total items:', updatedItems.length); // Debug log\n      } else {\n        // Item already exists, just set the stored items\n        setRentedItems(storedItems);\n        console.log('Item already in cart'); // Debug log\n      }\n    } else {\n      setRentedItems(storedItems);\n      console.log('No rental passed via state. Using stored items:', storedItems.length); // Debug log\n    }\n    \n    // Auto-fill user information if logged in\n    if (isLoggedIn && user) {\n      setFormData(prev => ({\n        ...prev,\n        name: user.name || '',\n        contactNumber: user.contact_number || ''\n      }));\n    }\n  }, [isLoggedIn, user, location.state]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handlePaymentMethodChange = (e) => {\n    setFormData(prev => ({\n      ...prev,\n      paymentMethod: e.target.value\n    }));\n  };\n\n  const removeItem = (id) => {\n    const updatedItems = rentedItems.filter((item) => item.id !== id);\n    setRentedItems(updatedItems);\n    localStorage.setItem('rentedItems', JSON.stringify(updatedItems));\n  };\n\n  const subTotal = rentedItems.reduce((acc, item) => acc + item.price, 0);\n  const platformFee = 10;\n  const total = subTotal + platformFee;\n\n  const handleCompleteRental = () => {\n    // Validate form\n    if (!formData.name.trim()) {\n      showAlert('error', 'Please enter your name');\n      return;\n    }\n    if (!formData.contactNumber.trim()) {\n      showAlert('error', 'Please enter your contact number');\n      return;\n    }\n    if (!formData.rentDuration.trim()) {\n      showAlert('error', 'Please enter rent duration');\n      return;\n    }\n    if (rentedItems.length === 0) {\n      showAlert('error', 'No items in cart');\n      return;\n    }\n    \n    setShowModal(true);\n  };\n  \n  const closeModal = () => setShowModal(false);\n\n  const confirmRental = async () => {\n    setLoading(true);\n    try {\n      const checkoutData = {\n        items: rentedItems.map(item => ({\n          id: item.id,\n          name: item.name,\n          price: item.price\n        })),\n        renter_name: formData.name,\n        renter_email: user?.email || 'guest@example.com',\n        contact_number: formData.contactNumber,\n        rent_duration: formData.rentDuration,\n        message: formData.message,\n        payment_method: formData.paymentMethod,\n        renter_id: user?.id || null\n      };\n\n      const response = await rentalAPI.checkout(checkoutData);\n      \n      if (response.data.success) {\n        const { data } = response.data;\n        \n        if (data.earnings_updated) {\n          showAlert('success', `Payment successful! Total: ₱${data.total_amount.toFixed(2)}\\n\\nYour earnings have been updated immediately. Check your earnings page to see the new balance.`);\n        } else {\n          showAlert('success', `Checkout successful! Total: ₱${data.total_amount.toFixed(2)}\\n\\nYour rental request has been sent. You'll earn money once the owner approves and completes the transaction.`);\n        }\n        \n        // Clear cart and form\n        setRentedItems([]);\n        localStorage.removeItem('rentedItems');\n        setFormData({\n          name: user?.name || '',\n          contactNumber: user?.contact_number || '',\n          rentDuration: '',\n          message: '',\n          paymentMethod: 'cash_on_delivery'\n        });\n        setShowModal(false);\n        \n        // Navigate to earnings page if payment was completed\n        setTimeout(() => {\n          if (data.earnings_updated) {\n            navigate('/rentals');\n          } else {\n            navigate('/rentals');\n          }\n        }, 3000);\n      }\n    } catch (error) {\n      console.error('Checkout error:', error);\n      \n      // Handle different types of errors with detailed messages\n      if (error.response?.status === 403) {\n        const data = error.response.data;\n        \n        // Handle suspended account with detailed restrictions\n        if (data.error === 'Account suspended' || error.restrictionDetails?.type === 'suspended') {\n          const details = error.restrictionDetails || data.restriction_details || {};\n          const actionMessage = details.blocked_action || details.blockedAction || 'checking out items';\n          const contactInfo = details.contact_info || details.contactInfo || 'Please contact support for assistance.';\n          \n          showAlert('error', \n            `Account Suspended: You cannot perform this action (${actionMessage}). ${contactInfo}`\n          );\n        } else if (data.error === 'Account deactivated') {\n          showAlert('error', 'Your account has been deactivated. Please contact support to reactivate your account.');\n        } else {\n          showAlert('error', data.message || 'You do not have permission to perform this checkout.');\n        }\n      } else if (error.response?.status === 422) {\n        const errorData = error.response.data;\n        if (errorData.errors) {\n          const firstError = Object.values(errorData.errors)[0];\n          const errorMessage = Array.isArray(firstError) ? firstError[0] : firstError;\n          showAlert('error', `Validation Error: ${errorMessage}`);\n        } else {\n          showAlert('error', errorData.message || 'Please check your input and try again.');\n        }\n      } else if (error.response?.status === 400) {\n        showAlert('error', error.response.data.message || 'Invalid checkout request. Please check your items and try again.');\n      } else if (!error.response) {\n        showAlert('error', 'Network error. Please check your internet connection and try again.');\n      } else {\n        showAlert('error', 'Checkout failed. Please try again or contact support if the problem persists.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"page-container\">\n      <button className=\"login-back-button\" onClick={() => navigate('/rental-section')}>\n        <ArrowLeftIcon className=\"login-back-icon\" />\n      </button>\n\n      {alert.show && (\n        <AlertMessage \n          type={alert.type} \n          message={alert.message} \n          onClose={() => setAlert({ show: false, type: '', message: '' })}\n          className=\"fixed-alert\"\n        />\n      )}\n\n      <div className=\"main-content\">\n        <div className=\"left-section\">\n          <div className=\"card item-card\">\n            <h2 className=\"item-rented-title\">Item Rented</h2>\n            {rentedItems.length === 0 ? (\n              <p className=\"empty-message\">No rented items yet.</p>\n            ) : (\n              rentedItems.map((item) => {\n                // Enhanced image logic: prefer images_url[0] if available\n                let imageUrl = item.image;\n                if (item.images_url && Array.isArray(item.images_url) && item.images_url.length > 0) {\n                  imageUrl = item.images_url[0].startsWith('http')\n                    ? item.images_url[0]\n                    : item.images_url[0].startsWith('/storage/')\n                      ? `http://localhost:8000${item.images_url[0]}`\n                      : `http://localhost:8000/storage/${item.images_url[0]}`;\n                }\n                return (\n                  <div key={item.id} className=\"rented-item enhanced-rented-item\">\n                    <div className=\"enhanced-image-wrapper\">\n                      <SafeImage \n                        src={imageUrl} \n                        alt={item.name}\n                        className=\"enhanced-checkout-item-image\"\n                      />\n                    </div>\n                    <div className=\"enhanced-item-details\">\n                      <div className=\"enhanced-item-title\">{item.name}</div>\n                      <div className=\"enhanced-price-info\">\n                        <span>₱{item.price.toFixed(2)}</span>\n                      </div>\n                      <button className=\"remove-button\" onClick={() => removeItem(item.id)}>\n                        Remove\n                      </button>\n                    </div>\n                  </div>\n                );\n              })\n            )}\n          </div>\n\n          <div className=\"card form-card\">\n            <h2 className=\"section-title\">Renter Information</h2>\n            <form className=\"input-form\" onSubmit={(e) => e.preventDefault()}>\n              <input \n                type=\"text\" \n                name=\"name\"\n                placeholder=\"Name*\" \n                value={formData.name}\n                onChange={handleInputChange}\n                required \n              />\n              <input \n                type=\"text\" \n                name=\"contactNumber\"\n                placeholder=\"Contact Number*\" \n                value={formData.contactNumber}\n                onChange={handleInputChange}\n                required \n              />\n              <input \n                type=\"text\" \n                name=\"rentDuration\"\n                placeholder=\"Rent Duration*\" \n                value={formData.rentDuration}\n                onChange={handleInputChange}\n                required \n              />\n              <input \n                type=\"text\" \n                name=\"message\"\n                placeholder=\"Message (optional)\" \n                value={formData.message}\n                onChange={handleInputChange}\n              />\n            </form>\n            {isLoggedIn && user && (\n              <p className=\"auto-fill-notice\">\n                ✓ Name and contact information auto-filled from your profile\n              </p>\n            )}\n          </div>\n        </div>\n\n        <div className=\"right-section\">\n          <div className=\"card summary-card\">\n            <h2 className=\"section-title\">Rental Summary</h2>\n            <div className=\"summary-details\">\n              <div className=\"summary-row\">\n                <span>Sub Total</span>\n                <span>₱{subTotal.toFixed(2)}</span>\n              </div>\n              <div className=\"summary-row\">\n                <span>Platform Fee</span>\n                <span>₱{platformFee.toFixed(2)}</span>\n              </div>\n              <div className=\"summary-row total\">\n                <span>Total</span>\n                <span>₱{total.toFixed(2)}</span>\n              </div>\n            </div>\n\n            <h3 className=\"section-subtitle\">Payment Method</h3>\n            <div className=\"payment-options\">\n              <label className=\"payment-option\">\n                <input \n                  type=\"radio\" \n                  name=\"payment\" \n                  value=\"cash_on_delivery\"\n                  checked={formData.paymentMethod === 'cash_on_delivery'}\n                  onChange={handlePaymentMethodChange}\n                />\n                <div>\n                  <strong>Cash on Delivery</strong>\n                  <p style={{ fontSize: '12px', color: '#666', margin: '2px 0 0 0' }}>\n                    Payment pending - Requires owner approval before earning\n                  </p>\n                </div>\n              </label>\n              <label className=\"payment-option\">\n                <input \n                  type=\"radio\" \n                  name=\"payment\" \n                  value=\"gcash\"\n                  checked={formData.paymentMethod === 'gcash'}\n                  onChange={handlePaymentMethodChange}\n                />\n                <div>\n                  <strong>GCash</strong>\n                  <p style={{ fontSize: '12px', color: '#059669', margin: '2px 0 0 0' }}>\n                    ✓ Pay using GCash number shown in item details\n                  </p>\n                </div>\n              </label>\n            </div>\n\n            <button \n              className=\"primary-button\" \n              onClick={handleCompleteRental}\n              disabled={loading || rentedItems.length === 0}\n            >\n              {loading ? 'Processing...' : 'Complete Rental'}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {showModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <button className=\"back-button\" onClick={closeModal}>\n              <ArrowLeftIcon className=\"back-icon\" />\n            </button>\n            <h3>Confirm Rental</h3>\n            <div className=\"modal-details\">\n              <p><strong>Renter:</strong> {formData.name}</p>\n              <p><strong>Contact:</strong> {formData.contactNumber}</p>\n              <p><strong>Duration:</strong> {formData.rentDuration}</p>\n              <p><strong>Payment Method:</strong> {formData.paymentMethod === 'cash_on_delivery' ? 'Cash on Delivery' : 'GCash'}</p>\n              <p><strong>Total Amount:</strong> ₱{total.toFixed(2)}</p>\n              <p><strong>Items:</strong> {rentedItems.length} item(s)</p>\n              {formData.paymentMethod === 'gcash' && (\n                <div style={{ marginTop: '12px', padding: '12px', background: '#f0f9ff', borderRadius: '8px', border: '1px solid #bfdbfe' }}>\n                  <p style={{ margin: '0', fontSize: '14px', color: '#1e40af' }}>\n                    <strong>Note:</strong> For GCash payment, use the GCash number shown in the item details. \n                    After payment, contact the owner to confirm the transaction.\n                  </p>\n                </div>\n              )}\n            </div>\n            <div className=\"modal-buttons\">\n              <button \n                className=\"confirm-button\" \n                onClick={confirmRental}\n                disabled={loading}\n              >\n                {loading ? 'Processing...' : 'Confirm'}\n              </button>\n              <button className=\"cancel-button\" onClick={closeModal}>\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Checkout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}