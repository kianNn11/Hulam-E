{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function SafeImage(_ref){let{src,alt,className}=_ref;const[hasError,setHasError]=React.useState(false);const[loading,setLoading]=React.useState(true);// Accept any non-empty src that starts with http, /, or is a data:image/ (do not require file extension)\nconst isValidImage=src&&(src.startsWith('http')||src.startsWith('/')||src.startsWith('data:image/'));if(hasError||!isValidImage){return/*#__PURE__*/_jsxs(\"div\",{className:className+' enhanced-checkout-item-image',style:{background:'#f3f4f6',display:'flex',alignItems:'center',justifyContent:'center',width:'100%',height:'100%',position:'relative'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/default-rental-image.jpg\",alt:\"placeholder\",className:\"fallback-image\"}),/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',bottom:8,left:0,right:0,textAlign:'center',fontSize:'0.85em',color:'#888'},children:\"Image unavailable\"})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:\"skeleton-image\",style:{position:'absolute',top:0,left:0,width:'100%',height:'100%'}}),/*#__PURE__*/_jsx(\"img\",{src:src,alt:alt,className:className+' enhanced-checkout-item-image',onError:()=>setHasError(true),onLoad:()=>setLoading(false),style:{width:'100%',height:'100%',objectFit:'cover',display:loading?'none':'block',borderRadius:'16px'}})]});}export default SafeImage;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SafeImage","_ref","src","alt","className","hasError","setHasError","useState","loading","setLoading","isValidImage","startsWith","style","background","display","alignItems","justifyContent","width","height","position","children","bottom","left","right","textAlign","fontSize","color","top","onError","onLoad","objectFit","borderRadius"],"sources":["C:/Users/Acer/Downloads/Clients/Hulam-E/front/src/Components/Common/SafeImage.jsx"],"sourcesContent":["import React from 'react';\r\n\r\nfunction SafeImage({ src, alt, className }) {\r\n  const [hasError, setHasError] = React.useState(false);\r\n  const [loading, setLoading] = React.useState(true);\r\n  // Accept any non-empty src that starts with http, /, or is a data:image/ (do not require file extension)\r\n  const isValidImage = src && (\r\n    src.startsWith('http') ||\r\n    src.startsWith('/') ||\r\n    src.startsWith('data:image/')\r\n  );\r\n  if (hasError || !isValidImage) {\r\n    return (\r\n      <div className={className + ' enhanced-checkout-item-image'} style={{background:'#f3f4f6',display:'flex',alignItems:'center',justifyContent:'center',width:'100%',height:'100%',position:'relative'}}>\r\n        <img src=\"/default-rental-image.jpg\" alt=\"placeholder\" className=\"fallback-image\" />\r\n        <span style={{position:'absolute',bottom:8,left:0,right:0,textAlign:'center',fontSize:'0.85em',color:'#888'}}>Image unavailable</span>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      {loading && (\r\n        <div className=\"skeleton-image\" style={{position:'absolute',top:0,left:0,width:'100%',height:'100%'}}></div>\r\n      )}\r\n      <img \r\n        src={src} \r\n        alt={alt} \r\n        className={className + ' enhanced-checkout-item-image'} \r\n        onError={()=>setHasError(true)} \r\n        onLoad={()=>setLoading(false)} \r\n        style={{width:'100%',height:'100%',objectFit:'cover',display:loading?'none':'block',borderRadius:'16px'}}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SafeImage; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE1B,QAAS,CAAAC,SAASA,CAAAC,IAAA,CAA0B,IAAzB,CAAEC,GAAG,CAAEC,GAAG,CAAEC,SAAU,CAAC,CAAAH,IAAA,CACxC,KAAM,CAACI,QAAQ,CAAEC,WAAW,CAAC,CAAGb,KAAK,CAACc,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGhB,KAAK,CAACc,QAAQ,CAAC,IAAI,CAAC,CAClD;AACA,KAAM,CAAAG,YAAY,CAAGR,GAAG,GACtBA,GAAG,CAACS,UAAU,CAAC,MAAM,CAAC,EACtBT,GAAG,CAACS,UAAU,CAAC,GAAG,CAAC,EACnBT,GAAG,CAACS,UAAU,CAAC,aAAa,CAAC,CAC9B,CACD,GAAIN,QAAQ,EAAI,CAACK,YAAY,CAAE,CAC7B,mBACEb,KAAA,QAAKO,SAAS,CAAEA,SAAS,CAAG,+BAAgC,CAACQ,KAAK,CAAE,CAACC,UAAU,CAAC,SAAS,CAACC,OAAO,CAAC,MAAM,CAACC,UAAU,CAAC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAACC,KAAK,CAAC,MAAM,CAACC,MAAM,CAAC,MAAM,CAACC,QAAQ,CAAC,UAAU,CAAE,CAAAC,QAAA,eACnMzB,IAAA,QAAKO,GAAG,CAAC,2BAA2B,CAACC,GAAG,CAAC,aAAa,CAACC,SAAS,CAAC,gBAAgB,CAAE,CAAC,cACpFT,IAAA,SAAMiB,KAAK,CAAE,CAACO,QAAQ,CAAC,UAAU,CAACE,MAAM,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAACC,SAAS,CAAC,QAAQ,CAACC,QAAQ,CAAC,QAAQ,CAACC,KAAK,CAAC,MAAM,CAAE,CAAAN,QAAA,CAAC,mBAAiB,CAAM,CAAC,EACnI,CAAC,CAEV,CACA,mBACEvB,KAAA,CAAAE,SAAA,EAAAqB,QAAA,EACGZ,OAAO,eACNb,IAAA,QAAKS,SAAS,CAAC,gBAAgB,CAACQ,KAAK,CAAE,CAACO,QAAQ,CAAC,UAAU,CAACQ,GAAG,CAAC,CAAC,CAACL,IAAI,CAAC,CAAC,CAACL,KAAK,CAAC,MAAM,CAACC,MAAM,CAAC,MAAM,CAAE,CAAM,CAC5G,cACDvB,IAAA,QACEO,GAAG,CAAEA,GAAI,CACTC,GAAG,CAAEA,GAAI,CACTC,SAAS,CAAEA,SAAS,CAAG,+BAAgC,CACvDwB,OAAO,CAAEA,CAAA,GAAItB,WAAW,CAAC,IAAI,CAAE,CAC/BuB,MAAM,CAAEA,CAAA,GAAIpB,UAAU,CAAC,KAAK,CAAE,CAC9BG,KAAK,CAAE,CAACK,KAAK,CAAC,MAAM,CAACC,MAAM,CAAC,MAAM,CAACY,SAAS,CAAC,OAAO,CAAChB,OAAO,CAACN,OAAO,CAAC,MAAM,CAAC,OAAO,CAACuB,YAAY,CAAC,MAAM,CAAE,CAC1G,CAAC,EACF,CAAC,CAEP,CAEA,cAAe,CAAA/B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}